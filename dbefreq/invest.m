figure(1); clf; landscape%INVEST -- Interactive investment and retirement analysis. A curve of future %  investment value is produced using input from these GUI controls:%%  Year & Month from which the projection is to be made (e.g., 1997, 03).%%  StartBalance = pre-existing balance at start of projection ($).%%  Term = time period (months) over which to integrate the projection.%%  Earnings per year (%) = expected yearly increase in value if left alone.%%  Tax rate: Assuming no share sales, a good number to use is your IRS tax%    rate x total estimated annual distributions Ö end-year value.%%  Dpst/Wdrw: Annual deposit or withdrawal. Default for Strt is = $0.00%    and default for End is = Strt. Amounts will be lineraly interpolated %    between the two values. Withdrawal amounts are negative values.%    %inc will increase the magnitude of each monthly contribution by a %    prorated annual percentage. A negative % will decrease magnitude.%%  Infl = Inflation rate. If not zero, adjusted final balance is also shown.%%  Notes: Earnings & contributions are applied monthly, tax at year end.%         Default values are displayed when program is first run.global  ed_yr ed_mo ed_sb ed_tm ed_ep ed_tx ed_s1 ed_s2 pop_inf pb_help = uicontrol(gcf,...	'style','push',...	'string','Help',...	'position',[500,0,43,20],...	'callback',['help invest']);		txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,380,40,20],...	'string','Year');ed_yr = uicontrol(gcf,...	'style','edit',...	'string','1997',...	'position',[60,380,40,20]);txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,360,40,20],...	'string','Month');ed_mo = uicontrol(gcf,...	'style','edit',...	'string','06',...	'position',[60,360,40,20]);	txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,335,80,15],...	'string','StartBalance');ed_sb = uicontrol(gcf,...	'style','edit',...	'string','10000',...	'position',[20,315,80,20]);txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,290,80,15],...	'string','Term (months)');ed_tm = uicontrol(gcf,...	'style','edit',...	'string','240',...	'position',[20,270,80,20]);	txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,245,80,15],...	'string','Earn/yr (%)');ed_ep = uicontrol(gcf,...	'style','edit',...	'string','10',...	'position',[20,225,80,20]);	txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,200,80,15],...	'string','Tax Rate (%)');ed_tx = uicontrol(gcf,...	'style','edit',...	'string','13',...	'position',[20,180,80,20]);txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,155,80,15],...	'string','Dpst/Wdrw');txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,135,30,20],...	'string','Strt');ed_s1 = uicontrol(gcf,...	'style','edit',...	'string','0',...	'position',[50,135,50,20]);txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,115,30,20],...	'string','End');ed_s2 = uicontrol(gcf,...	'style','edit',...	'position',[50,115,50,20]);txt_ed = uicontrol(gcf,...	'style','text',...	'position',[20,95,30,20],...	'string','%inc');ed_pt = uicontrol(gcf,...	'style','edit',...	'position',[50,95,50,20]);txt_pop = uicontrol(gcf,...	'style','text',...	'position',[20,70,80,15],...	'string','Inflation(%)');pop_inf = uicontrol(gcf,...	'style','popupmenu',...	'position',[19,50,83,20],...	'string','0|2.5|3.0|3.5|4.0|4.5|5.0',...	'userdata',[0;2.5;3.0;3.5;4.0;4.5;5.0]);pb_exe = uicontrol(gcf,...	'style','push',...	'string','Execute',...	'position',[19,0,83,40],...	'callback',[...		'yr = get(ed_yr,''string'');',...		'mo = get(ed_mo,''string'');',...		'if length(yr)==4; yr = yr(3:4); end;',...		'if length(mo)==1; mo = [''0'',mo]; end;',...	 	'yrmo = [yr,mo]; yrmo = str2num(yrmo);',...		'pres_bal = get(ed_sb,''string''); pres_bal = str2num(pres_bal);',...		'term = get(ed_tm,''string'');',...		'term = str2num(term);',...		'epa = get(ed_ep,''string''); epa = str2num(epa);',...		'tax_pct = get(ed_tx,''string''); tax_pct = str2num(tax_pct);',...		'c1 = get(ed_s1,''string''); c1 = str2num(c1);',...		'c2 = get(ed_s2,''string''); if ~isempty(c2); c2 = str2num(c2); end;',...		'pct = get(ed_pt,''string''); if ~isempty(pct); pct=str2num(pct)/100; end;',...		'if ~isempty(pct); c2=c1*((1+pct)^(term/12)); else; if isempty(c2); c2=c1; end; end;',...		'contrib = [c1,c2];',...		'inf = get(pop_inf,''userdata'');',...		'infl = inf(get(pop_inf,''value''));',...		'seq=1; fcst(yrmo,pres_bal,term,contrib,epa,infl,tax_pct,seq);']);pb_rep = uicontrol(gcf,...	'style','push',...	'string','OverPlot',...	'position',[107,0,83,20],...	'callback',['hold on;',...		'yr = get(ed_yr,''string'');',...		'mo = get(ed_mo,''string'');',...		'if length(yr)==4; yr = yr(3:4); end;',...		'if length(mo)==1; mo = [''0'',mo]; end;',...	 	'yrmo = [yr,mo]; yrmo = str2num(yrmo);',...		'pres_bal = get(ed_sb,''string''); pres_bal = str2num(pres_bal);',...		'term = get(ed_tm,''string'');',...		'term = str2num(term);',...		'epa = get(ed_ep,''string''); epa = str2num(epa);',...		'tax_pct = get(ed_tx,''string''); tax_pct = str2num(tax_pct);',...		'c1 = get(ed_s1,''string''); c1 = str2num(c1);',...		'c2 = get(ed_s2,''string''); if ~isempty(c2); c2 = str2num(c2); end;',...		'pct = get(ed_pt,''string''); if ~isempty(pct); pct=str2num(pct)/100; end;',...		'if ~isempty(pct); c2=c1*((1+pct)^(term/12)); else; if isempty(c2); c2=c1; end; end;',...		'contrib = [c1,c2];',...		'inf = get(pop_inf,''userdata'');',...		'infl = inf(get(pop_inf,''value''));',...		'seq=seq+1; fcst(yrmo,pres_bal,term,contrib,epa,infl,tax_pct,seq); hold off;']);pb_quit = uicontrol(gcf,...	'style','push',...	'string','Quit',...	'position',[550,0,83,20],...	'callback',[...		'clear ans yrmo pres_bal term contrib epa infl tax_pct pb_quit pb_rep pb_help seq,'...		'clear c1 c2 contrib ed_ep ed_mo ed_pt ed_s1 ed_s2 ed_sb ed_tm ed_tx ed_yr epa,'...		'clear inf infl mo pb_exe pct pop_inf pres_bal tax_pct term txt_ed txt_pop yr yrmo,',...		'close(1)']);